<!-- European Union Public License version 1.2 -->
<!-- Copyright © 2020 Rick Beerendonk -->

@if (visible)
{
  <Hello Name=@name />
}

@code {
  private string name = "A";

  private Boolean visible = true;

  protected override async Task OnAfterRenderAsync(bool firstRender)
  {
    if (firstRender)
    {
      await Task.Delay(100);
      Console.WriteLine("-- -- new prop --");
      name = "B";
      StateHasChanged();

      await Task.Delay(100);
      Console.WriteLine("-- -- remove component --");
      visible = false;
      StateHasChanged();
    }
  }
}