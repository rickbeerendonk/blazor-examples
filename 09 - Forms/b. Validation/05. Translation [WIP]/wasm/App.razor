<!-- European Union Public License version 1.2 -->
<!-- Copyright © 2020 Rick Beerendonk -->

@using System.Globalization

<!-- OnValidSubmit: Only submit when the form is valid -->
<EditForm Model="@model" OnValidSubmit="@HandleValidSubmit">
    <!-- Validates based on Data Annotations -->
    <DataAnnotationsValidator />
    
    <!-- Show all validation errors -->
    <ValidationSummary />
    
    <div>
        <label>
            Name:
            <InputText @bind-Value="model.Name" />
        </label>
    </div>
    
    <div>
        <label>
            Age:
            <InputNumber @bind-Value="model.Age" />
        </label>
    </div>
    
    <button type="submit">Submit</button>
</EditForm>

@if (result != string.Empty) {
    <h1>@result</h1>
}

@code {
    private DemoModel model = new();
    private string result = string.Empty;

    private void HandleValidSubmit()
    {
        result = CultureInfo.CurrentUICulture.Name == "nl-NL" 
            ? $"Bedankt {model.Name}!" 
            : $"Thank you {model.Name}!";
    }
}