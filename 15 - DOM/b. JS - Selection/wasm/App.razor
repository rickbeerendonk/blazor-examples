<!-- European Union Public License version 1.2 -->
<!-- Copyright © 2020 Rick Beerendonk -->

@inject IJSRuntime JS

<input @ref="inputElement" value=@name @oninput="changed" />
<h1>Hello @name!</h1>

@code {
    private ElementReference inputElement;

    private string name = "Blazor";

    private void changed(ChangeEventArgs e)
    {
        name = e.Value.ToString();
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JS.InvokeVoidAsync("selectElement", inputElement);
        }
    }
}
